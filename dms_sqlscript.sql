CREATE TABLE YOURDATABASE.users (id INT(11) NOT NULL AUTO_INCREMENT, username VARCHAR(32) NOT NULL, password VARCHAR(32) NOT NULL, email VARCHAR(64) NOT NULL, birthday DATE, gender TINYINT, first_name VARCHAR(128), last_name VARCHAR(128), force_password_change BOOLEAN DEFAULT FALSE, PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.users ADD INDEX (username, password);
CREATE TABLE YOURDATABASE.user_settings ( user_id INT(11) NOT NULL, setting_key VARCHAR(256) NOT NULL, setting_value VARCHAR(256) NOT NULL);
ALTER TABLE YOURDATABASE.user_settings ADD INDEX (user_id);
CREATE TABLE YOURDATABASE.rights ( user_id INT(11) NOT NULL, right_key VARCHAR(256) NOT NULL, right_value VARCHAR(256) NOT NULL);
ALTER TABLE YOURDATABASE.rights ADD INDEX (user_id);
CREATE TABLE YOURDATABASE.countries ( id INT(11) NOT NULL AUTO_INCREMENT, country_name VARCHAR(256), alpha2 VARCHAR(2), alpha3 VARCHAR(3), alphanum VARCHAR(32), phone_prefix VARCHAR(32), PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.countries ADD INDEX (alpha2, alpha3, alphanum);
CREATE TABLE YOURDATABASE.localizations ( id INT(11) NOT NULL AUTO_INCREMENT, localization_key VARCHAR(256) NOT NULL, localization_value TEXT NOT NULL, language_id INT(11) NOT NULL, PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.localizations ADD INDEX (localization_key, language_id);
CREATE TABLE YOURDATABASE.accounts ( id INT(11) NOT NULL AUTO_INCREMENT, account_name VARCHAR(128) NOT NULL, account_ext VARCHAR(128), account_type_id INT(11) NOT NULL, street_name VARCHAR(256), street_ext VARCHAR(256), house_no VARCHAR(256), zip VARCHAR(128), city_name VARCHAR(256), country_id INT(11) NOT NULL, longitude VARCHAR(128), latitude VARCHAR(128), relation VARCHAR(256), PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.accounts ADD INDEX (account_type_id);
CREATE TABLE YOURDATABASE.account_types ( id INT(11) NOT NULL AUTO_INCREMENT, type_name VARCHAR(256), PRIMARY KEY (id));
CREATE TABLE YOURDATABASE.documents ( id INT(11) NOT NULL AUTO_INCREMENT, document_name VARCHAR(256) NOT NULL, relation VARCHAR(256), account_id INT(11) NOT NULL, document_type_id INT(11) NOT NULL, retention_period_id INT(11) NOT NULL, document_date DATE NOT NULL, comment TEXT, PRIMARY KEY (id));
CREATE TABLE YOURDATABASE.document_types ( id INT(11) NOT NULL AUTO_INCREMENT, type_name VARCHAR(256), default_retention_period_id INT(11), PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.document_types ADD INDEX (default_retention_period_id);
CREATE TABLE YOURDATABASE.retention_periods ( id INT(11) NOT NULL AUTO_INCREMENT, period_name VARCHAR(256), max_time_in_days INT(32), PRIMARY KEY (id));
CREATE TABLE YOURDATABASE.events ( id INT(11) NOT NULL AUTO_INCREMENT, start_time DATETIME NOT NULL, end_time DATETIME NOT NULL, document_id INT(11), PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.events ADD INDEX(document_id);
CREATE TABLE YOURDATABASE.uploads ( id INT(11) NOT NULL AUTO_INCREMENT, upload_name VARCHAR(256), file_name VARCHAR(256), file_type VARCHAR(128), document_id INT(11), upload_data LONGBLOB, PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.uploads ADD INDEX(document_id);
CREATE TABLE YOURDATABASE.languages( id INT(11) NOT NULL AUTO_INCREMENT, language_name VARCHAR(128), PRIMARY KEY (id));
CREATE TABLE YOURDATABASE.labels( id INT(11) NOT NULL AUTO_INCREMENT, language_id INT(11) NOT NULL, label_key VARCHAR(256) NOT NULL, label_value TEXT, PRIMARY KEY (id));
ALTER TABLE YOURDATABASE.labels ADD INDEX(language_id);
ALTER TABLE YOURDATABASE.accounts ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.account_types ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.countries ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.documents ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.document_types ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.events ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.languages ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.localizations ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.retention_periods ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.uploads ADD COLUMN deleted_at DATETIME;
ALTER TABLE YOURDATABASE.users ADD COLUMN deleted_at DATETIME;
